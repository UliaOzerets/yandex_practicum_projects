# А/B-тестирование

Задача — провести оценку результатов A/B-теста. В нашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

Оценить корректность проведения теста и проанализировать его результаты.

# Техническое задание

- Название теста: recommender_system_test;
- Группы: А (контрольная), B (новая платёжная воронка);
- Дата запуска: 2020-12-07;
- Дата остановки набора новых пользователей: 2020-12-21;
- Дата остановки: 2021-01-04;
- Аудитория: 15% новых пользователей из региона EU;
- Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- Ожидаемое количество участников теста: 6000.
- Ожидаемый эффект: за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:
  - конверсии в просмотр карточек товаров — событие product_page
  - просмотры корзины — product_cart
  - покупки — purchase.

# План исследования

Загрузка и предварительный анализ данных:
   - загрузка датасетов
   - первичный анализ
   
Предобработка данных:
   - подбор подходящих типов данных
   - анализ пропусков и дубликатов
   - предварительная очистка данных согласно ТЗ
   - объединение необходимых данных в один датафрейм
   
Оценка корректности проведения теста:
   - проверка корректности всех пунктов технического задания
   - анализ времени проведения теста
   - анализ аудитории теста
   
Исследовательский анализ данных:
   - оценка распрделения количества событий на пользователя
   - распределение числа событий по дням
   - изменение конверсии в воронке в выборках на разных этапах
   - анализ особенностей А/В-тестирования
   
Оценка результатов А/В-теста:
   - анализ результатов теста
   - проверка статистической разницы z-критерием
   
Заключение по результатам исследования

# Заключение

Оценка корректности проведения теста показала:

Соответсвие техническому заданию:
- название теста: recommender_system_test - соответствует
- группы: А — контрольная, B — новая платёжная воронка - соответствует
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы - соответствует
- дата запуска: 2020-12-07 - соответствует
- дата остановки набора новых пользователей: 2020-12-21 - в датасете new_users последний набор пользователей произошел 23-го числа, однако, мы убрали из данных все не указанные дни по ТЗ, поэтому - соответствует
- дата остановки: 2021-01-04 - не соответствует, у нас есть данные только до 30 декабря включительно. Возможно, в период праздников тест уже не проводился, или его результаты за неуказанные дни могли исказить результаты
- ожидаемое количество участников теста: 6000 - не соответствует. Количество пользователей в тесте равно 3 430

Время проведения теста:
- во время проведения теста проходило маркетинговое мероприятие, которое могда оказать влияние на результаты теста:
- Christmas&New Year Promo. В котором принимали участие пользователи из EU, которые нас интересуют в тесте. и началось мероприятие 25 декабря. Получается с 25 по 30 декабря это мероприятие могло оказывать влияение на проведение теста

Аудитория теста:
- разница между пересекающимися пользователями обеих групп равна 0,16%. В этом случае мы можем утверждать, что воздействие на обе группы нашего теста, даже с пересекающимися пользователями - является равномерным. 

Ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
конверсии в просмотр карточек товаров — событие product_page ,просмотры корзины — product_cart , покупки — purchase
- Из 3 430 пользователей - 1 540 не завершили свой 14-дневный лайфтайм. Это 44,8% участников теста. 
- примерно 5 000 строк было отфильтровано, когда мы оставили только события, прожившие 14 дней

Результат А/В-тестирования показал, что результат нельзя назвать успешным.

Есть множество несоответсвий с ТЗ теста:

 - дата отбора новых пользователей в предоставленных данных была больше на 2 дня, чем дата указанная в ТЗ как дата остановки набора
 - дата остановки теста не соответсвует дате предоставленной данными - окончание теста 4 января, а у нас были данные только до 30 декабря включительно (5 дней теста были утеряны)
 - ожидаемое количество участников теста - вместо заявленных 6 000 в тесте участвовало 3 471 человек
 - на результаты теста могло влиять проходящее в этот момент маркетинговое событие: оно началось с 25 декабря. Нам пришлось отбросить данные теста до 25 числа, чтобы сохранить его результативность
 - было определено пересечение пользователей с конкурирующим тестом - примерно 11% каждой нашей группы участников принимало участие в другом тесте. Из-за равномерного распределения между группами мы оставили этих пользователей, но это так же могло повлиять на результативность теста
 - количество событий в выборках распределены примерно одинаково (5 и 6 событий на пользователя) но не одинаково
 - количество событий участников группы А в общем было в 3 раза больше общего количества событий в группе В
 - примерно 76% участников теста не прошли свой 14-дневный лайфтайм, их времяпребывание в тесте было меньше 2-х недель

Тест проведен, но его результаты не являются успешными

Рекомендуется провести повторный тест, с исправлением вышеуказанных недочетов
